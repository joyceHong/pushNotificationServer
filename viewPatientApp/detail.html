<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="css/metro-bootstrap.min.css" rel="stylesheet" />
    <script src="js/jquery/jquery-2.1.3.min.js"></script>
    <script src="js/jquery/jquery-ui.min.js"></script>
    <script src="js/metro.min.js"></script>
    <script src="Scripts/angular.js"></script>
    <link href="css/iconFont.min.css" rel="stylesheet" />
</head>
<body class="metro" ng-app="detailInfoApp" onload="onLoad()" ng-controller="detailInfoControler">
    <div class="panel">
        <div class="panel-header bg-lightBlue fg-white">
            <i class="icon-arrow-left-3" onclick="onBackKeyDown()"></i>   病患列表
        </div>
        <div class="panel-content">
            <form>
                <legend>
                    <i class="icon-rocket on-left"></i>
                    病患基本資料
                </legend>
                <label>姓名</label>
                <div class="input-control text" data-role="input-control">
                    <input type="text" placeholder="type text" readonly>
                </div>
                <label>生日</label>
                <input type="date" readonly />
                <br />
                <label>性別</label>
                <div class="input-control radio default-style margin10" data-role="input-control">
                    <label>
                        男
                        <input type="radio" name="r3" checked="">
                        <span class="check"></span>
                    </label>
                </div>
                <div class="input-control radio default-style margin10" data-role="input-control">
                    <label>
                        女
                        <input type="radio" name="r3" checked="checked">
                        <span class="check"></span>
                    </label>
                </div>
            </form>

        </div>
    </div>

    <div class="panel"  ng-repeat="prescr in prescrs">
        <div class="panel-header">
            就診處置 {{prescr.Date}}
        </div>
        <div class="panel-content">
            <div class="listview-outlook" data-role="listview">
                <div class="listview" ng-repeat="temp in prescr.List">
                    <a href="image.html?id={{temp.Date}}" class="list">
                        <div class="list-content">
                            <div class="data">                            
                                <img src="{{temp.Image}}" width="100" height="100" />
                                <span class="list-title">{{temp.Item}}</span>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
<script>
    //angular 語法
    function onLoad() {
        document.addEventListener('deviceready', onDeviceReady, true);
    }

    function onDeviceReady() {
        document.addEventListener("backbutton", onBackKeyDown, false);
    }

    function onBackKeyDown() {
      history.go(-1);
      navigator.app.backHistory();
    }


    var app = angular.module("detailInfoApp", []);

    app.controller("detailInfoControler", function ($scope) {

        //$scope.prescrs = [ {Date: "2015/03/24"},
        //                   {Date: "2015/03/21"}];

        $scope.prescrs = [
            {
                Date: "2015/03/24", List: [
                        { Item: "洗牙全口", Image: "images/n1.jpg" },
                        { Item: "牙根治療", Image: "images/n1.jpg" }
                ]
            },
            {
                Date: "2015/03/21", List: [
                       { Item: "根牙", Image: "images/n2.jpg" },
                       { Item: "自費", Image: "images/n2.jpg" }
                ]
            }
        ];
    })
   
</script>